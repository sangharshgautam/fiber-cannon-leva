(this["webpackJsonpfiber-cannon-leva"]=this["webpackJsonpfiber-cannon-leva"]||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(23),c=a.n(r),i=(a(73),a(8)),s=a(17),l=a(116),u=(a(74),a(1)),b=a(25),j=a(21),f=a(10),O=a(11),d=a(118),m=a(15),h=a(62),v=a.n(h),g=a(114),p=a(14),y=function(e){var t=e.time,a=Object(m.a)(e,["time"]),o=Object(n.useState)(2),r=Object(i.a)(o,2),c=r[0],s=(r[1],Object(n.useState)("#fff")),l=Object(i.a)(s,2),j=l[0],O=(l[1],Object(n.useState)(1)),d=Object(i.a)(O,2),h=d[0],y=(d[1],Object(b.d)((function(){return Object(f.a)({mass:h,args:c},a)}))),S=Object(i.a)(y,1)[0],w=Object(n.useState)(!1),x=Object(i.a)(w,2),C=x[0];x[1];v()((function(e){return new Promise((function(t){return setTimeout(t,e)}))}),[t]);var D=new u.MeshPhysicalMaterial({color:j,roughness:.8}),P=new u.MeshPhysicalMaterial({color:13369344,roughness:.1});return Object(p.jsx)("mesh",Object(f.a)(Object(f.a)({ref:S},a),{},{raycast:g.a,name:"Dodecahedron",material:C?P:D,children:Object(p.jsx)("dodecahedronBufferGeometry",{args:[C?c+c/10:c]})}))},S=a(64),w=function(e){var t=Object(n.useState)(e.decalData.transform.position),a=Object(i.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)(e.decalData.transform.rotation),l=Object(i.a)(c,2),b=l[0],j=l[1],f=Object(n.useState)(e.decalData.transform.scale),O=Object(i.a)(f,2),d=O[0],m=O[1],h=(Object(s.d)().scene,new S.a(e.mesh,new u.Vector3(o[0],o[1],o[2]),new u.Euler(b[0],b[1],b[2]),new u.Vector3(d[0],d[1],d[2]))),v=Object(s.c)(u.TextureLoader,"assets/Label2.png"),g=new u.MeshPhysicalMaterial({map:v,normalScale:new u.Vector2(.15,.15),transparent:!0,depthTest:!0,depthWrite:!1,polygonOffset:!0,polygonOffsetFactor:-4,wireframe:e.decalData.material.wireframe,side:u.FrontSide,reflectivity:e.decalData.material.reflectivity,roughness:e.decalData.material.roughness}),y=Object(n.useRef)(null);return Object(p.jsx)("mesh",{ref:y,name:"Decal",material:g,userData:{controls:{transform:{position:{label:"Position",value:o,onChange:function(e){console.log(o),r(e)}},rotation:{label:"Rotation",value:b,onChange:function(e){j(e)}},scale:{label:"Scale",value:d,min:.1,step:.1,onChange:function(e){m(e)},lock:!0}}}},onUpdate:function(e){return e.needsUpdate=!0},children:h&&Object(p.jsx)("primitive",{attach:"geometry",object:h})})};var x=function(e){var t=Object(n.useState)(e.geometry.args),a=Object(i.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)(e.transform.position),s=Object(i.a)(c,2),l=s[0],u=s[1],j=Object(n.useState)(e.transform.rotation),f=Object(i.a)(j,2),O=f[0],d=f[1],m=Object(n.useState)(e.transform.scale),h=Object(i.a)(m,2),v=h[0],g=h[1],y=Object(n.useState)(e.castShadow),S=Object(i.a)(y,2),x=S[0],C=S[1],D=Object(n.useState)(e.material.color),P=Object(i.a)(D,2),M=P[0],E=P[1],R=Object(n.useState)(e.material.wireframe),F=Object(i.a)(R,2),L=F[0],T=F[1],G=Object(n.useState)(e.material.reflectivity),k=Object(i.a)(G,2),B=k[0],I=k[1],_=Object(n.useState)(e.physics.enabled),A=Object(i.a)(_,2),W=A[0],N=A[1],z=Object(n.useState)(e.physics.mass),H=Object(i.a)(z,2),V=H[0],X=H[1],Y=Object(b.b)((function(){return{args:o,mass:V,position:l,rotation:O,scale:v}})),J=Object(i.a)(Y,2),U=J[0],Z=J[1],q=Object(n.useState)(!1),K=Object(i.a)(q,2),Q=(K[0],K[1],Object(n.useRef)(null));return Object(n.useEffect)((function(){var e;Z.position.set(l[0],l[1],l[2]),Z.rotation.set(O[0],O[1],O[2]),null===(e=Z.mass)||void 0===e||e.set(V)}),[l,O,V]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("mesh",{ref:U,name:"Cube",castShadow:x,scale:v,userData:{controls:{castShadow:{label:"Cast Shadow",value:x,onChange:function(e){C(e)}},transform:{position:{label:"Position",value:l,onChange:function(e){u(e)}},rotation:{label:"Rotation",value:O,onChange:function(e){d(e)}},scale:{label:"Scale",value:v,onChange:function(e){g(e)},lock:!0}},geometry:{args:{label:"Dimension",value:o,min:.1,step:.2,onChange:function(e){r(e)}}},material:{color:{label:"color",value:M,onChange:function(e){E(e)}},wireframe:{label:"Wireframe",value:L,onChange:function(e){T(e)}},reflectivity:{label:"Reflectivity",value:B,onChange:function(e){I(e)}}},physics:{enabled:{label:"Enabled",value:W,onChange:function(e){N(e)}},mass:{label:"Mass",value:V,onChange:function(e){X(e)}}}}},children:[Object(p.jsx)("boxBufferGeometry",{args:o}),Object(p.jsx)("meshPhysicalMaterial",{color:M,wireframe:L,reflectivity:B})]}),e.decals.map((function(e,t){if(Q.current)return Object(p.jsx)(w,{mesh:Q.current,decalData:e},t)}))]})},C=a(35),D=a(117),P=a(65),M={objects:[{uuid:Object(D.a)(),type:"Plane",castShadow:!0,transform:{position:[0,-10,0],rotation:[-Math.PI/2,0,0],scale:[2,2,2]},geometry:{args:[10,10]},material:{color:{r:.9,g:.9,b:.9},wireframe:!1,reflectivity:.5,roughness:1},physics:{enabled:!0,mass:0},decals:new Array},{uuid:Object(D.a)(),type:"Cube",castShadow:!0,transform:{position:[0,0,0],rotation:[0,.1*Math.PI,0],scale:[1,1,7]},geometry:{args:[1,1,1]},material:{color:[.95,.95,.95],wireframe:!1,reflectivity:.5,roughness:1},physics:{enabled:!1,mass:1},decals:new Array},{uuid:Object(D.a)(),type:"Cube",castShadow:!1,transform:{position:[4.32,-.68,5.46],rotation:[0,0,0],scale:[1,1,1]},geometry:{args:[2,2,2]},material:{color:"#4316ba",wireframe:!1,reflectivity:1,roughness:1},physics:{enabled:!0,mass:2},decals:[{uuid:Object(D.a)(),transform:{position:[4.32,-.68,5.46],rotation:[0,0,0],scale:[5,5,5]},material:{color:"#4316ba",wireframe:!1,reflectivity:.5,roughness:1}}]}]},E=Object(C.a)(function(e,t){return function(e,t){return function(a,n,o){return Object.assign({},e,t(a,n,o))}}(e,function(e){return function(t,a,n){return e((function(e){return t(Object(P.a)(e))}),a,n)}}(t))}(M,(function(e){return{updateObject:function(t,a){return e((function(e){}))},addObject:function(t){return e((function(e){}))}}}))),R=a(115),F=a(66),L=a.n(F),T=n.forwardRef((function(e,t){var a=e.object,o=Object(m.a)(e,["object"]),r=o.camera,c=Object(m.a)(o,["camera"]),l=L()(c,["enabled","axis","mode","translationSnap","rotationSnap","scaleSnap","space","size","dragging","showX","showY","showZ"]),u=Object(s.d)((function(e){return e.gl})),b=Object(s.d)((function(e){return e.camera})),j=Object(s.d)((function(e){return e.invalidate})),O=r||b,d=n.useState((function(){return new R.a(O,u.domElement)})),h=Object(i.a)(d,1)[0];return n.useLayoutEffect((function(){null===h||void 0===h||h.attach(a)}),[a,h]),n.useEffect((function(){var e;return null===h||void 0===h||null===(e=h.addEventListener)||void 0===e||e.call(h,"change",j),function(){var e;return null===h||void 0===h||null===(e=h.removeEventListener)||void 0===e?void 0:e.call(h,"change",j)}}),[h,j]),h?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("primitive",Object(f.a)({ref:t,dispose:void 0,object:h},l))}):null}));var G=function(e){var t=Object(n.useState)(e.geometry.args),a=Object(i.a)(t,2),o=a[0],r=(a[1],Object(n.useState)(e.transform.position)),c=Object(i.a)(r,2),s=c[0],u=c[1],j=Object(n.useState)(e.transform.rotation),f=Object(i.a)(j,2),O=f[0],d=f[1],m=Object(n.useState)(e.transform.scale),h=Object(i.a)(m,2),v=h[0],g=h[1],y=Object(n.useState)(e.castShadow),S=Object(i.a)(y,2),w=S[0],x=S[1],C=Object(n.useState)(e.material.color),D=Object(i.a)(C,2),P=D[0],M=D[1],E=Object(n.useState)(e.material.wireframe),R=Object(i.a)(E,2),F=R[0],L=R[1],T=Object(n.useState)(e.material.reflectivity),G=Object(i.a)(T,2),k=G[0],B=G[1],I=Object(n.useState)(e.physics.mass),_=Object(i.a)(I,2),A=_[0],W=_[1],N=Object(b.b)((function(){return{mass:A,position:s,rotation:O,scale:v}})),z=Object(i.a)(N,2),H=(z[0],z[1]),V=Object(n.useState)(!1),X=Object(i.a)(V,2),Y=X[0],J=X[1];Object(n.useEffect)((function(){var e;H.position.set(s[0],s[1],s[2]),H.position.set(O[0],O[1],O[2]),null===(e=H.mass)||void 0===e||e.set(A)}),[s,O,A]);var U=Object(n.useState)(o.map((function(e){return e}))),Z=Object(i.a)(U,2),q=Z[0];return Z[1],Object(p.jsxs)("mesh",{name:"Cube",castShadow:w,position:s,rotation:O,scale:v,userData:{controls:{castShadow:{label:"Cast Shadow",value:w,onChange:function(e){x(e)}},transform:{position:{label:"Position",value:s,onChange:function(e){u(e)}},rotation:{label:"Rotation",value:O,onChange:function(e){d(e)}},scale:{label:"Scale",value:v,onChange:function(e){g(e)}}},geometry:{args:{label:"Dimension",value:o,min:.1,step:.2,onChange:function(e){}}},material:{color:{label:"color",value:P,onChange:function(e){M(e)}},wireframe:{label:"Wireframe",value:F,onChange:function(e){L(e)}},reflectivity:{label:"Reflectivity",value:k,onChange:function(e){B(e)}}},physics:{mass:{label:"Mass",value:A,onChange:function(e){W(e)}}}}},onPointerOver:function(){return J(!0)},onPointerOut:function(){return J(!1)},children:[Object(p.jsx)("latheBufferGeometry",{args:[q]}),Object(p.jsx)("meshPhysicalMaterial",{color:P,wireframe:F,reflectivity:k}),Object(p.jsx)(l.a,{distanceFactor:10,style:{pointerEvents:"none",display:Y?"block":"none"},children:Object(p.jsxs)("div",{className:"content",children:["Mass: ",A]})})]})},k=a(51);var B=function(e){var t=Object(n.useState)(e.geometry.args),a=Object(i.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)(e.transform.position),s=Object(i.a)(c,2),l=s[0],u=s[1],j=Object(n.useState)(e.transform.rotation),f=Object(i.a)(j,2),O=f[0],d=f[1],m=Object(n.useState)(e.transform.scale),h=Object(i.a)(m,2),v=h[0],g=h[1],y=Object(n.useState)(e.castShadow),S=Object(i.a)(y,2),w=S[0],x=S[1],C=Object(n.useState)(e.material.color),D=Object(i.a)(C,2),P=D[0],M=D[1],E=Object(n.useState)(e.material.wireframe),R=Object(i.a)(E,2),F=R[0],L=R[1],T=Object(n.useState)(e.material.reflectivity),G=Object(i.a)(T,2),k=G[0],B=G[1],I=Object(n.useState)(e.physics.mass),_=Object(i.a)(I,2),A=_[0],W=_[1],N={controls:{castShadow:{label:"Cast Shadow",value:w,onChange:function(e){x(e)}},transform:{position:{label:"Position",value:l,onChange:function(e){u(e)}},rotation:{label:"Rotation",value:O,onChange:function(e){d(e)}},scale:{label:"Scale",value:v,onChange:function(e){g(e)},lock:!0}},geometry:{args:{label:"Dimension",value:o,min:.1,step:.2,onChange:function(e){r(e)}}},material:{color:{label:"color",value:P,onChange:function(e){M(e)}},wireframe:{label:"Wireframe",value:F,onChange:function(e){L(e)}},reflectivity:{label:"Reflectivity",value:k,onChange:function(e){B(e)}}},physics:{mass:{label:"Mass",value:A,onChange:function(e){W(e)}}}}},z=Object(b.c)((function(){return{mass:A}})),H=Object(i.a)(z,2),V=H[0],X=H[1];return Object(n.useEffect)((function(){var e;X.position.set(l[0],l[1],l[2]),X.rotation.set(O[0],O[1],O[2]),null===(e=X.mass)||void 0===e||e.set(A)}),[l,O,A]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("mesh",{ref:V,name:"Plane",castShadow:w,scale:v,userData:N,children:[Object(p.jsx)("planeBufferGeometry",{args:o}),Object(p.jsx)("meshPhysicalMaterial",{color:P,wireframe:F,reflectivity:k})]})})},I=function(){var e,t,a,o,r=Object(s.d)(),c=r.raycaster,l=r.mouse,u=r.camera,b=r.scene,m=(r.gl,{Scene:{label:"uuid",value:b.id,type:j.a.STRING}});!function e(t,a){return t.reduce((function(t,a,n){var o=Object(O.a)({},"".concat(a.type,"_").concat(a.uuid,"_uuid"),{label:"id",value:a.uuid,type:j.a.STRING});a.name&&(o["".concat(a.type,"_").concat(a.name,"_name")]={label:"name",value:a.name,type:j.a.STRING});var r=Object(O.a)({},"Select_".concat(a.uuid.substr(0,4)),Object(j.b)((function(){return P(b.getObjectById(a.id))})));e(a.children,{s:r});var c=Object(O.a)({},"".concat(a.type,"_").concat(a.uuid.substr(0,4)),Object(j.d)(r,{collapsed:!1}));return Object.assign(t,c)}),a)}(b.children,m),Object(j.e)("Scene",m,[b,b.children]);var h=Object(j.e)("Transform",(function(){return{mode:{label:"Mode",value:"translate",options:{scale:"scale",rotate:"rotate",translate:"translate"}},Preset:Object(j.c)({label:Object(p.jsx)(k.a,{}),opts:{Translate:function(){return S({mode:"translate"})},Rotate:function(){return S({mode:"rotate"})},Scale:function(){return S({mode:"scale"})}}})}})),v=Object(i.a)(h,2),g=v[0].mode,S=v[1],w=Object(n.useState)(),C=Object(i.a)(w,2),D=C[0],P=C[1],M=Object(n.useRef)(null),R=Object(n.useRef)(null);Object(n.useEffect)((function(){if(R.current&&M.current){var e=R.current,t=function(e){var t;(M.current.enabled=!e.value,"translate"!==g||e.value)||W({position:(null===(t=R.current)||void 0===t?void 0:t.object).position.toArray()});if("rotate"===g&&!e.value){var a;(null===(a=R.current)||void 0===a?void 0:a.object).rotation}"scale"===g&&e.value};return e.addEventListener("dragging-changed",t),function(){return e.removeEventListener("dragging-changed",t)}}}));var F=(null===D||void 0===D?void 0:D.userData.controls)||{},L=Object(j.e)("Mesh",(function(){return F}),[D]),I=Object(i.a)(L,2)[1],_=(null===D||void 0===D||null===(e=D.userData.controls)||void 0===e?void 0:e.transform)||{position:{label:"Position",value:[0,0,0],onChange:function(e){}},rotation:[0,0,0],scale:[1,1,1]},A=Object(j.e)("Transform",(function(){return _}),[D]),W=Object(i.a)(A,2)[1],N=Object(n.useState)([]),z=Object(i.a)(N,2),H=z[0],V=(z[1],H.reduce((function(e,t,a){return Object.assign(e,Object(O.a)({},"Point_".concat(a),{label:"Point_".concat(a),value:t,onChange:function(e){console.log(e)}}))}),{})),X=(Object(j.e)("Geometry",V,[H]),(null===D||void 0===D||null===(t=D.userData.controls)||void 0===t?void 0:t.geometry)||{}),Y=Object(j.e)("Geometry",(function(){return X}),[D]),J=(Object(i.a)(Y,2)[1],(null===D||void 0===D||null===(a=D.userData.controls)||void 0===a?void 0:a.material)||{}),U=Object(j.e)("Material",(function(){return J}),[D]),Z=Object(i.a)(U,2)[1],q=(null===D||void 0===D||null===(o=D.userData.controls)||void 0===o?void 0:o.physics)||{},K=Object(j.e)("Physics",(function(){return q}),[D]),Q=Object(i.a)(K,2)[1];Object(n.useEffect)((function(){if(D){console.log(D.position);var e,t,a,n=D.rotation;if(W({position:D.position.toArray()}),W({rotation:[n.x,n.y,n.z]}),W({scale:D.scale.toArray()}),D.userData.controls)I({castShadow:null===(e=D.userData.controls.castShadow)||void 0===e?void 0:e.value}),Z({color:D.userData.controls.material.color.value}),Z({wireframe:D.userData.controls.material.wireframe.value}),Q({enabled:null===(t=D.userData.controls.physics)||void 0===t||null===(a=t.enabled)||void 0===a?void 0:a.value}),Q({mass:D.userData.controls.physics.mass.value})}}),[D]);var $=E((function(e){return e.objects}));document.addEventListener("pointerdown",(function(e){l.x=e.clientX/window.innerWidth*2-1,l.y=-e.clientY/window.innerHeight*2+1,c.setFromCamera(l,u);var t=c.intersectObjects(b.children).filter((function(e){return"Mesh"===e.object.type}));if(t.length){var a=t[0].object;a.userData&&P(a)}}));return Object(p.jsxs)(p.Fragment,{children:[D&&Object(p.jsx)(T,{ref:R,enabled:!0,position:D.position,rotation:D.rotation,scale:D.scale,mode:g,camera:u,showX:!0,showY:!0,showZ:!0,size:1,space:"local",axis:null,translationSnap:null,rotationSnap:null,scaleSnap:null,dragging:!0,castShadow:!0,receiveShadow:!0,object:D}),Object(p.jsx)(d.a,{ref:M}),Object(p.jsx)(y,{time:0}),$.map((function(e,t){switch(e.type){case"Plane":return Object(p.jsx)(B,Object(f.a)({},e),t);case"Cube":return Object(p.jsx)(x,Object(f.a)({},e),t);case"NPoint":return Object(p.jsx)(G,Object(f.a)({},e),t)}}))]})},_=a(67),A=a(68),W=function(){var e=Object(s.d)(),t=(e.raycaster,e.mouse,e.camera),a=e.scene,n=e.gl;Object(A.a)(),console.log(n.domElement);o.a.useRef();var r=new _.RayTracingRenderer({canvas:n.domElement,antialias:!0,alpha:!0});r.setSize(window.innerWidth,window.innerHeight);var c=function e(){r.render(a,t),requestAnimationFrame(e)},l=Object(j.e)("Renderer",(function(){return{renderer:{label:"Provider",value:"webgl",options:{webgl:"webgl",hoverinc:"hoverinc",erichlof:"erichlof"},onChange:function(e){"hoverinc"===e&&(c(),r.gammaOutput=!0,r.gammaFactor=2.2,r.setPixelRatio(1),r.toneMapping=u.ACESFilmicToneMapping,r.toneMappingExposure=1.5,r.renderWhenOffFocus=!1,r.bounces=3,r.render(a,t))}},Preset:Object(j.c)({label:Object(p.jsx)(k.b,{}),opts:{webgl:function(){return O({renderer:"webgl"})},hoverinc:function(){return O({renderer:"hoverinc"})},erichlof:function(){return O({renderer:"erichlof"})}}})}})),f=Object(i.a)(l,2),O=(f[0].renderer,f[1]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(b.a,{children:Object(p.jsx)(I,{})})})},N=function(){return Object(p.jsx)(l.a,{children:Object(p.jsx)("div",{className:"loading",children:"Loading..."})})};var z=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2);return t[0],t[1],Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(s.a,{style:{background:"#BFD1E5"},camera:{position:[10,5,10],rotation:[0,0,0],fov:50},gl:{alpha:!1},children:[Object(p.jsx)("axesHelper",{args:[20]}),Object(p.jsx)("pointLight",{color:new u.Color("indianred")}),Object(p.jsx)("pointLight",{position:[10,10,-10],color:new u.Color("orange")}),Object(p.jsx)("pointLight",{position:[-10,-10,10],color:new u.Color("lightblue")}),Object(p.jsx)(n.Suspense,{fallback:Object(p.jsx)(N,{}),children:Object(p.jsx)(W,{})})]})})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,119)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),o(e),r(e),c(e)}))};c.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(z,{})}),document.getElementById("root")),H()},73:function(e,t,a){},74:function(e,t,a){}},[[112,1,2]]]);
//# sourceMappingURL=main.545e02d9.chunk.js.map