(this["webpackJsonpfiber-cannon-leva"]=this["webpackJsonpfiber-cannon-leva"]||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),i=(n(74),n(9)),s=n(17),l=n(116),u=(n(75),n(1)),d=n(29),b=n(21),j=n(10),v=n(11),f=n(118),m=(n(63),n(114),n(14));var h=n(35),g=n(117),O=n(64),p={objects:[{uuid:Object(g.a)(),type:"Plane",castShadow:!0,transform:{position:[0,-10,0],rotation:[-Math.PI/2,0,0],scale:[2,2,2]},geometry:{args:[10,10]},material:{color:{r:.9,g:.9,b:.9},wireframe:!1,reflectivity:.5,roughness:1},physics:{enabled:!0,mass:0},decals:new Array},{uuid:Object(g.a)(),type:"Cube",castShadow:!0,transform:{position:[0,0,0],rotation:[0,.1*Math.PI,0],scale:[1,1,7]},geometry:{args:[1,1,1]},material:{color:[.95,.95,.95],wireframe:!1,reflectivity:.5,roughness:1},physics:{enabled:!1,mass:1},decals:new Array},{uuid:Object(g.a)(),type:"Cube",castShadow:!1,transform:{position:[4.32,-.68,5.46],rotation:[0,0,0],scale:[1,1,1]},geometry:{args:[2,2,2]},material:{color:"#4316ba",wireframe:!1,reflectivity:1,roughness:1},physics:{enabled:!0,mass:2},decals:[{uuid:Object(g.a)(),transform:{position:[4.32,-.68,5.46],rotation:[0,0,0],scale:[5,5,5]},material:{color:"#4316ba",wireframe:!1,reflectivity:.5,roughness:1}}]}]},y=Object(h.a)(function(e,t){return function(e,t){return function(n,a,r){return Object.assign({},e,t(n,a,r))}}(e,function(e){return function(t,n,a){return e((function(e){return t(Object(O.a)(e))}),n,a)}}(t))}(p,(function(e){return{updateObject:function(t,n){return e((function(e){}))},addObject:function(t){return e((function(e){}))}}}))),w=n(15),x=n(115),S=n(65),E=n.n(S),D=a.forwardRef((function(e,t){var n=e.object,r=Object(w.a)(e,["object"]),o=r.camera,c=Object(w.a)(r,["camera"]),l=E()(c,["enabled","axis","mode","translationSnap","rotationSnap","scaleSnap","space","size","dragging","showX","showY","showZ"]),u=Object(s.d)((function(e){return e.gl})),d=Object(s.d)((function(e){return e.camera})),b=Object(s.d)((function(e){return e.invalidate})),v=o||d,f=a.useState((function(){return new x.a(v,u.domElement)})),h=Object(i.a)(f,1)[0];return a.useLayoutEffect((function(){null===h||void 0===h||h.attach(n)}),[n,h]),a.useEffect((function(){var e;return null===h||void 0===h||null===(e=h.addEventListener)||void 0===e||e.call(h,"change",b),function(){var e;return null===h||void 0===h||null===(e=h.removeEventListener)||void 0===e?void 0:e.call(h,"change",b)}}),[h,b]),h?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("primitive",Object(j.a)({ref:t,dispose:void 0,object:h},l))}):null}));var F=n(51);var L=n(67),M=n(66);function P(){var e=Object(s.d)(),t=(e.raycaster,e.mouse,e.camera,e.scene),n=e.gl,a=(Object(s.c)(u.TextureLoader,"assets/hoverinc/envmap.jpg"),Object(s.c)(M.a,"assets/hoverinc/scene.gltf").scene);a.scale.set(.1,.1,.1),a.position.set(-4,-5,0),a.rotation.set(0,Math.PI/2,0),a.traverse((function(e){e instanceof u.Mesh&&(e.castShadow=!0,e.receiveShadow=!0),e.material&&"LensesMat"==e.material.name&&(e.material.transparent=!0)})),(new L.a).setDataType(u.UnsignedByteType).load("assets/hoverinc/christmas_photo_studio_04_4k.hdr",(function(e){console.log("i am here!!!!!");var n=r.fromEquirectangular(e).texture;t.background=n,t.environment=n,e.dispose(),r.dispose()}));var r=new u.PMREMGenerator(n);return r.compileEquirectangularShader(),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ambientLight",{args:[16777215,.2]}),Object(m.jsx)("primitive",{object:a})]})}var I=function(){var e,t,n,r,o=Object(s.d)(),c=o.raycaster,l=o.mouse,u=o.camera,d=o.scene,j=(o.gl,{Scene:{label:"uuid",value:d.id,type:b.a.STRING}});!function e(t,n){return t.reduce((function(t,n,a){var r=Object(v.a)({},"".concat(n.type,"_").concat(n.uuid,"_uuid"),{label:"id",value:n.uuid,type:b.a.STRING});n.name&&(r["".concat(n.type,"_").concat(n.name,"_name")]={label:"name",value:n.name,type:b.a.STRING});var o=Object(v.a)({},"Select_".concat(n.uuid.substr(0,4)),Object(b.b)((function(){return E(d.getObjectById(n.id))})));e(n.children,{s:o});var c=Object(v.a)({},"".concat(n.type,"_").concat(n.uuid.substr(0,4)),Object(b.d)(o,{collapsed:!0}));return Object.assign(t,c)}),n)}(d.children,j),Object(b.e)("Scene",j,[d,d.children]);var h=Object(b.e)("Transform",(function(){return{mode:{label:"Mode",value:"translate",options:{scale:"scale",rotate:"rotate",translate:"translate"}},Preset:Object(b.c)({label:Object(m.jsx)(F.a,{}),opts:{Translate:function(){return p({mode:"translate"})},Rotate:function(){return p({mode:"rotate"})},Scale:function(){return p({mode:"scale"})}}})}})),g=Object(i.a)(h,2),O=g[0].mode,p=g[1],w=Object(a.useState)(),x=Object(i.a)(w,2),S=x[0],E=x[1],L=Object(a.useRef)(null),M=Object(a.useRef)(null);Object(a.useEffect)((function(){if(M.current&&L.current){var e=M.current,t=function(e){if(L.current.enabled=!e.value,"translate"===O&&e.value,"rotate"===O&&!e.value){var t;(null===(t=M.current)||void 0===t?void 0:t.object).rotation}"scale"===O&&e.value};return e.addEventListener("dragging-changed",t),function(){return e.removeEventListener("dragging-changed",t)}}}));var I=(null===S||void 0===S?void 0:S.userData.controls)||{},C=Object(b.e)("Mesh",(function(){return I}),[S]),R=Object(i.a)(C,2)[1],T=(null===S||void 0===S||null===(e=S.userData.controls)||void 0===e?void 0:e.transform)||{position:{label:"Position",value:[0,0,0],onChange:function(e){}},rotation:[0,0,0],scale:[1,1,1]},_=Object(b.e)("Transform",(function(){return T}),[S]),B=Object(i.a)(_,2)[1],k=Object(a.useState)([]),A=Object(i.a)(k,2),G=A[0],z=(A[1],G.reduce((function(e,t,n){return Object.assign(e,Object(v.a)({},"Point_".concat(n),{label:"Point_".concat(n),value:t,onChange:function(e){console.log(e)}}))}),{})),N=(Object(b.e)("Geometry",z,[G]),(null===S||void 0===S||null===(t=S.userData.controls)||void 0===t?void 0:t.geometry)||{}),q=Object(b.e)("Geometry",(function(){return N}),[S]),H=(Object(i.a)(q,2)[1],(null===S||void 0===S||null===(n=S.userData.controls)||void 0===n?void 0:n.material)||{}),W=Object(b.e)("Material",(function(){return H}),[S]),X=Object(i.a)(W,2)[1],Y=(null===S||void 0===S||null===(r=S.userData.controls)||void 0===r?void 0:r.physics)||{},J=Object(b.e)("Physics",(function(){return Y}),[S]),Z=Object(i.a)(J,2)[1];Object(a.useEffect)((function(){if(S){console.log(S.position);var e,t,n,a=S.rotation;if(B({position:S.position.toArray()}),B({rotation:[a.x,a.y,a.z]}),B({scale:S.scale.toArray()}),S.userData.controls)R({castShadow:null===(e=S.userData.controls.castShadow)||void 0===e?void 0:e.value}),X({color:S.userData.controls.material.color.value}),X({wireframe:S.userData.controls.material.wireframe.value}),Z({enabled:null===(t=S.userData.controls.physics)||void 0===t||null===(n=t.enabled)||void 0===n?void 0:n.value}),Z({mass:S.userData.controls.physics.mass.value})}}),[S]);y((function(e){return e.objects}));document.addEventListener("pointerdown",(function(e){l.x=e.clientX/window.innerWidth*2-1,l.y=-e.clientY/window.innerHeight*2+1,c.setFromCamera(l,u);var t=c.intersectObjects(d.children).filter((function(e){return"Mesh"===e.object.type}));if(t.length){var n=t[0].object;n.userData&&E(n)}}));return Object(m.jsxs)(m.Fragment,{children:[S&&Object(m.jsx)(D,{ref:M,enabled:!0,position:S.position,rotation:S.rotation,scale:S.scale,mode:O,camera:u,showX:!0,showY:!0,showZ:!0,size:1,space:"local",axis:null,translationSnap:null,rotationSnap:null,scaleSnap:null,dragging:!0,castShadow:!0,receiveShadow:!0,object:S}),Object(m.jsx)(f.a,{ref:L}),Object(m.jsx)(P,{})]})},C=n(68),R=n(69),T=function(){var e=Object(s.d)(),t=(e.raycaster,e.mouse,e.camera),n=e.scene;e.gl;Object(R.a)();r.a.useRef();var a=new C.RayTracingRenderer({canvas:document.getElementById("canvas-hoverinc"),antialias:!0,alpha:!0});a.setSize(window.innerWidth,window.innerHeight);var o=function e(){a.render(n,t),requestAnimationFrame(e)},c=Object(b.e)("Renderer",(function(){return{renderer:{label:"Provider",value:"webgl",options:{webgl:"webgl",hoverinc:"hoverinc",erichlof:"erichlof"},onChange:function(e){"hoverinc"===e&&(document.getElementById("canvas-hoverinc").style.display="block",document.getElementById("canvas-webgl").style.display="none",a.gammaOutput=!0,a.gammaFactor=2.2,a.setPixelRatio(1),a.toneMapping=u.ACESFilmicToneMapping,a.toneMappingExposure=1.5,a.renderWhenOffFocus=!1,a.bounces=3,o()),"webgl"==e&&(document.getElementById("canvas-hoverinc").style.display="none",document.getElementById("canvas-webgl").style.display="block")}},Preset:Object(b.c)({label:Object(m.jsx)(F.b,{}),opts:{webgl:function(){return j({renderer:"webgl"})},hoverinc:function(){return j({renderer:"hoverinc"})},erichlof:function(){return j({renderer:"erichlof"})}}})}})),l=Object(i.a)(c,2),j=(l[0].renderer,l[1]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(d.a,{children:Object(m.jsx)(I,{})})})},_=function(){return Object(m.jsx)(l.a,{children:Object(m.jsx)("div",{className:"loading",children:"Loading..."})})};var B=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2);return t[0],t[1],Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("canvas",{id:"canvas-hoverinc",style:{width:500,height:500,background:"white",display:"none"}}),Object(m.jsxs)(s.a,{id:"canvas-webgl",style:{background:"#BFD1E5"},camera:{position:[10,5,10],rotation:[0,0,0],fov:50},gl:{alpha:!0},children:[Object(m.jsx)("axesHelper",{args:[20]}),Object(m.jsx)("pointLight",{color:new u.Color("indianred")}),Object(m.jsx)("pointLight",{position:[10,10,-10],color:new u.Color("orange")}),Object(m.jsx)("pointLight",{position:[-10,-10,10],color:new u.Color("lightblue")}),Object(m.jsx)(a.Suspense,{fallback:Object(m.jsx)(_,{}),children:Object(m.jsx)(T,{})})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,119)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(B,{})}),document.getElementById("root")),k()},74:function(e,t,n){},75:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.2061c9cc.chunk.js.map